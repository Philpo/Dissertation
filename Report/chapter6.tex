\chapter{Conclusion}

The aim of this project was to investigate the performance effects of different integration methods on real time cloth simulation using the Mass-Spring model. With that in mind, two hypotheses were proposed, a null and an alternative. Two were proposed as it was unknown at the beginning whether there would still be performance concerns for Mass-Spring models due to the fact that the core literature is many years old.
\\\\The data extracted from the Mass-Spring model clearly disproves the null hypothesis, and therefore proves the alternative.
\\At small mesh sizes, the null hypothesis is indeed true, all integrators lead to real time simulations. As mesh size is increased however, large performance deltas appear between the integrators, and at the largest mesh size used, the RK4 integrator drops below 30FPS in one scenario. Were mesh size to be increased beyond the maximum used in this project, all the integrators would eventually drop below the 30FPS threshold, thus, it is clear that even with modern hardware all integrators do not necessarily give real time results. 
\\The fact that performance deltas appear between the integrators proves the alternative hypothesis, though the results were different from what was expected. During the initial stages of this project it was expected that explicit Euler and Verlet would be the more expensive integrators, as they would be limited to small time steps and therefore frequent updates. However, analysing the data shows that in fact Midpoint and RK4 are the more expensive integrators, with RK4 being borderline real time. This reversal is explained by looking at the stability of the integrators. It was expected that Midpoint and RK4 would be stable at higher time steps than explicit Euler; this is indeed the case. Verlet actually ends up more stable than RK4 and Midpoint. However, neither of them are sufficiently more stable to counter their much higher update costs. This is particularly problematic at larger mesh sizes, where all integrators are only stable with a 1ms time step. Therefore, the cheaper integrators dominate here, resulting in frame rates increases of roughly 2 times and 4 times for Midpoint and RK4 respectively.
\\\\To conclude, this project has shown that performance for Mass-Spring models is still a concern when aiming for real time simulations, especially when running on a single thread. Integrator choice definitely makes a difference to overall performance, with different results than were expected. RK4 and Midpoint are not sufficiently more stable to counteract their computational cost, and therefore they are not recommended for use in real time Mass-Spring models, especially with large mesh sizes. Explicit Euler and Verlet, by contrast, are recommended as they are cheap, and result in frame rates well above 30FPS at mesh sizes up to 300$^{2}$. In particular, Verlet is recommended as the most efficient integrator, as it is more stable then explicit Euler up to 200$^{2}$ meshes, and therefore results in much larger frame rates for those mesh sizes.

\section{Future Work}
There is scope for a lot of additional research based off this project.
\\\\One simple area that could be researched further would be to investigate the mesh size at which all the integrators drop below 30FPS; this would give the upper bound of what is possible for single threaded Mass-Spring models.
\\\\A key area that should be researched is the impact of multi-threading and GPU acceleration. Mass-Spring models are highly parallelisable, so this project should be replicated for both multi-threaded CPU and GPU accelerated implementations. It may be the case that the improved performance of the parallel implementations increases the stability of the integrators and could lead to different conclusions.
\\\\One caveat of this project is that it has not focused on the appearance of the cloth. For a game this would be inappropriate. It is possible that by focusing on the appearance of the cloth as well as performance, different results may be found. For example, varying the spring stiffness may affect the stability of the cloth, so the more expensive integrators may become viable. Therefore, it would be interesting to research what effect focusing on appearance more would have on performance and integrator choice. This could possibly involve collaboration with an artist and development of a UI tool to control the cloth parameters dynamically.
\\\\Similarly, it may also be interesting to study the performance of integrators in a more game like environment. This project has focused on simulating the cloth on its own, but in a video game there would be many other demands on the available frame time. A game environment would also provide many more scenarios in which performance could be investigated, such as attaching the cloth to a game character as a cape and animating it with their movement.
\\\\One obvious extension is to also compare the performance of implicit integrators. Implicit integrators are unconditionally stable and are generally considered more appropriate for the stiff equations of Mass-Spring systems. However, they involve large matrix calculations which may render them inappropriate for real time use.
\\\\Finally, another necessary extension would be to compare this project against a PBD implementation. PDB are the standard for cloth in video games, so comparing them with traditional Mass-Spring models would show why PDB are preferred.